<div [formGroup]="billingAddress">
  <div class="form-group">
    <ng-container *ngIf="(countries$ | async) as countries">
      <div *ngIf="countries.length !== 0">
        <label aria-required="true">
          <span class="label-content required">{{
            'addressForm.country' | cxTranslate
          }}</span>
          <ng-select
            [searchable]="true"
            [clearable]="false"
            [items]="countries"
            bindLabel="name"
            bindValue="isocode"
            placeholder="{{ 'addressForm.selectOne' | cxTranslate }}"
            (change)="countrySelected($event)"
          >
          </ng-select>
        </label>
      </div>
    </ng-container>
  </div>
  <div class="form-group">
    <label>
      <span class="label-content required">{{
        'addressForm.firstName.label' | cxTranslate
      }}</span>
      <input
        class="form-control"
        type="text"
        required
        placeholder="{{ 'addressForm.firstName.placeholder' | cxTranslate }}"
        formControlName="firstName"
      />
    </label>
  </div>
  <div class="form-group">
    <label>
      <span class="label-content required">{{
        'addressForm.lastName.label' | cxTranslate
      }}</span>
      <input
        type="text"
        class="form-control"
        required
        placeholder="{{ 'addressForm.lastName.placeholder' | cxTranslate }}"
        formControlName="lastName"
      />
    </label>
  </div>
  <div class="form-group">
    <label>
      <span class="label-content required">{{
        'addressForm.address1' | cxTranslate
      }}</span>
      <input
        type="text"
        class="form-control"
        required
        placeholder="{{ 'addressForm.streetAddress' | cxTranslate }}"
        formControlName="line1"
      />
    </label>
  </div>
  <div class="form-group">
    <label>
      <span class="label-content">{{
        'addressForm.address2' | cxTranslate
      }}</span>
      <input
        type="text"
        class="form-control"
        placeholder="{{ 'addressForm.aptSuite' | cxTranslate }}"
        formControlName="line2"
      />
    </label>
  </div>
  <div class="row">
    <div class="form-group col-md-6">
      <label>
        <span class="label-content required">{{
          'addressForm.city.label' | cxTranslate
        }}</span>
        <input
          type="text"
          class="form-control"
          required
          placeholder="{{ 'addressForm.city.placeholder' | cxTranslate }}"
          formControlName="town"
        />
      </label>
    </div>
    <div class="form-group col-md-6">
      <ng-container
        *ngIf="(regions$ | async) as regions"
        formGroupName="region"
      >
        <div *ngIf="regions.length !== 0">
          <label aria-required="true">
            <span class="label-content required">{{
              'addressForm.state' | cxTranslate
            }}</span>
            <ng-select
              class="region-select"
              formControlName="isocodeShort"
              [searchable]="true"
              [clearable]="false"
              [items]="regions"
              bindLabel="{{ regions[0].name ? 'name' : 'isocodeShort' }}"
              bindValue="{{ regions[0].name ? 'isocodeShort' : 'region' }}"
              placeholder="{{ 'addressForm.selectOne' | cxTranslate }}"
              (change)="regionSelected($event)"
            >
            </ng-select>
          </label>
        </div>
      </ng-container>
    </div>
  </div>
  <div class="row">
    <div class="form-group col-md-6">
      <label>
        <span class="label-content required">{{
          'addressForm.zipCode.label' | cxTranslate
        }}</span>
        <input
          type="text"
          class="form-control"
          required
          placeholder="{{ 'addressForm.zipCode.placeholder' | cxTranslate }}"
          formControlName="postalCode"
        />
      </label>
    </div>
  </div>
</div>
