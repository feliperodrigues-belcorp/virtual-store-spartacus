<label class="searchbox cx-searchbox" [class.dirty]="!!searchInput.value">
  <input #searchInput [placeholder]="'searchBox.placeholder' | cxTranslate" aria-label="search" (focus)="open()"
    (input)="search(searchInput.value)" (blur)="close($event)" (keydown.escape)="close($event)"
    (keydown.enter)="launchSearchResult($event, searchInput.value)" class="cx-searchbox__input" type="text" />

  <app-belcorp-icon class="cx-searchbox__icon" [type]="iconTypes.RESET" aria-label="reset"
    (mousedown)="clear(searchInput)" class="reset cx-searchbox__icon">
  </app-belcorp-icon>

  <app-belcorp-icon [type]="iconTypes.SEARCH" aria-label="search" class="search cx-searchbox__icon"
    (mousedown)="avoidReopen($event)">
  </app-belcorp-icon>
</label>

<div *ngIf="(results$ | async) as result" class="results" (click)="close($event)">
  <div *ngIf="result.message" class="message" [innerHTML]="result.message"></div>

  <div class="cx-suggestions" (mousedown)="disableClose()">
    <a *ngFor="let suggestion of result.suggestions" [innerHTML]="suggestion | cxHighlight: searchInput.value"
      [routerLink]="         {
          cxRoute: 'search',
          params: { query: suggestion }
        } | cxUrl
      " class="cx-suggestions__a">
    </a>
  </div>


  <div class="cx-product  products" (mousedown)="disableClose()" *ngIf="result.products">
    <div class="cx-suggestions__title">
      <h1 class="cx-suggestions__h1">Productos Sugeridos</h1>
    </div>

    <a *ngFor="let product of result.products" [routerLink]="
        {
          cxRoute: 'product',
          params: product
        } | cxUrl
      " [class.has-media]="config.displayProductImages">
      <div class="row cx-product__row">
        <div class="col-md-3 col-3 cx-product__img">
          <app-belcorp-media *ngIf="config.displayProductImages" [container]="product.images?.PRIMARY"
            format="thumbnail" [alt]="product.summary"></app-belcorp-media>
        </div>
        <div class="col-md-9 col-9">
          <div class="col-md-12 cx-product__coltitle">
            <h4 class="cx-product__h4">Nombre de producto</h4>
            <h4 class="name cx-product__h4">{{ product.name }}</h4>
            <h4 class=" cx-product__h2">esika</h4>

          </div>
          <div class="col-md-12 col-12">
            <div class="row cx-product__rowcol">
              <div class="col-md-4 col-4 cx-product__rowcol--border">
                <h4 class=" cx-product__information">Precio lista</h4>
                <span class="price cx-product__precio">{{ product.price?.formattedValue }}</span>
              </div>
              <div class="col-md-5 col-5 cx-product__rowcol--font">
                <h4 class=" cx-product__information">Oferta</h4>
                <span class="price cx-product__oferta">r$19,00</span>

              </div>
            </div>
          </div>
        </div>
      </div>
    </a>

  </div>
</div>